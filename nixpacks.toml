[phases.setup]
nixPkgs = ["python311", "python311Packages.pip", "python311Packages.virtualenv"]

[phases.install]
cmds = [
    "python -m pip install --upgrade pip",
    "python -m pip install opencv-python-headless==4.10.0.84",
    "python -m pip install numpy==1.26.4 protobuf==3.20.3 absl-py attrs flatbuffers matplotlib sounddevice",
    "python -m pip install --no-deps mediapipe==0.10.14",
    "python -m pip install streamlit==1.35.0 pandas==2.2.1 plotly==5.18.0 scikit-learn==1.3.2 scipy==1.11.4 Pillow==10.2.0"
]

[start]
cmd = "streamlit run streamlit_app.py --server.port=$PORT --server.address=0.0.0.0"
